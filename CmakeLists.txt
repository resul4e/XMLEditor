#Set the minimum version of CMake we can use.
#Currently set to 3.6 due to VS_STARTUP_PROJECT.
cmake_minimum_required(VERSION 3.6)
#Tell CMake we are using visual studio folders.
#Also moves the CMake project to a separate folder.
set_property(GLOBAL PROPERTY USE_FOLDERS ON)

#Create a variable for the user to set the qt path
set(QT_INSTALL_PATH "C:/Apps/Programming/Qt/5.15.0/msvc2019_64" CACHE PATH "The path where QT5 is installed")
set(CMAKE_PREFIX_PATH "${QT_INSTALL_PATH}")
#Find QT from the user provided path
find_package(Qt5 COMPONENTS Widgets REQUIRED)

#Set higher compiler warnings, treat warnings as errors and disable langauge extensions
add_compile_options(/W4 /WX /permissive-)

#We want to use c++17.
set(CMAKE_CXX_STANDARD 17)

#The root project and what it is called. 
project("XMLEditor")

add_executable("${PROJECT_NAME}" "main.cpp")

#Set the main executable as the startup project
set_property(DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR} PROPERTY VS_STARTUP_PROJECT "${PROJECT_NAME}")
